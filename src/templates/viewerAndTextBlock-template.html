<section class="viewer-and-text-block {{#if (eq alignment 'right')}} right {{/if}}"
    style="background-color: {{#var background}}{{/var}};">
    <div class="inner-container" style="min-height:{{height}};padding-top:{{paddingTop}};padding-bottom:{{paddingBottom}};">
        {{#if (eq alignment "left")}}
        <div class="viewer-block">
            <babylon-viewer style="width:100vw;height:100vh;max-width:{{viewer.width}};max-height:{{viewer.height}}"
                clear-color="{{viewer.clearColor}}"
                environment-lighting="{{viewer.environment}}"
                source="{{viewer.source}}"
                hotspots='{{json viewer.hotspots}}'
                camera-orbit="{{viewer.cameraOrbit}}"
                animation-speed="{{viewer.animationSpeed}}"
                {{#if viewer.animationAutoPlay}}animation-auto-play{{/if}}
                {{#if (ne viewer.cameraAutoOrbit false)}}camera-auto-orbit{{/if}}>
            {{#each viewer.annotations}}
                <babylon-viewer-annotation hotspot='{{this.name}}'>
                    {{{this.html}}}
                </babylon-viewer-annotation>
            {{/each}}
            </babylon-viewer>
        </div>
        {{/if}}
        <div class="text-block"
            style="text-align:{{textAlign}};width:{{textWidth}};margin-left:{{marginLeft}};margin-right:{{marginRight}};">
            {{#if titleColor}}
                <h2 style="color:{{titleColor}}">{{title}}</h2>
            {{else}}
                <h2>{{title}}</h2>
            {{/if}}
            {{#if subtitle}}
                {{#if subtitleColor}}
                    <h3 style="color:{{subtitleColor}}">{{subtitle}}</h3>
                {{else}}
                    <h3>{{subtitle}}</h3>
                {{/if}}
            {{/if}}
            <p style="color:{{color}}">
                <script>
                    {
                        const descText = "{{desc}}"; 
                        const replaceLT = descText.replace(/&lt;/gi, "<");
                        const result = replaceLT.replace(/&gt;/gi, ">");
                        let pTags = document.getElementsByTagName('p');
                        pTags = pTags[pTags.length - 1];
                        pTags.innerHTML = result;
                    }
                </script>
            </p>
            {{#if moreInfoLink}}
            <div class="link-block">
                <a style="color:{{color}}" href="{{moreInfoLink}}" {{#if target}}target="{{target}}"{{/if}}>{{moreInfoText}}
                </a>
            </div>
            {{/if}}
        </div>
        {{#if (eq alignment "right")}}
        <div class="viewer-block">
            <babylon-viewer style="width:100vw;height:100vh;max-width:{{viewer.width}};max-height:{{viewer.height}}"
                clear-color="{{viewer.clearColor}}"
                environment-lighting="{{viewer.environment}}"
                source="{{viewer.source}}"
                hotspots='{{json viewer.hotspots}}'
                camera-orbit="{{viewer.cameraOrbit}}"
                animation-speed="{{viewer.animationSpeed}}"
                {{#if viewer.animationAutoPlay}}animation-auto-play{{/if}}
                {{#if (ne viewer.cameraAutoOrbit false)}}camera-auto-orbit{{/if}}>
            {{#each viewer.annotations}}
                <babylon-viewer-annotation hotspot='{{this.name}}'>
                    {{{this.html}}}
                </babylon-viewer-annotation>
            {{/each}}
            </babylon-viewer>
        </div>
        {{/if}}
    </div>
</section>